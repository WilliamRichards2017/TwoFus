
include(ExternalProject)

SET(RUFUS_BIG_INSERTIONS_DEPENDENCIES)

include(zlib.cmake)
LIST(APPEND RUFUS_BIG_INSERTIONS_DEPENDENCIES ${ZLIB_PROJECT})
include(bamtools.cmake)
LIST(APPEND RUFUS_BIG_INSERTIONS_DEPENDENCIES ${BAMTOOLS_PROJECT})
include(fastahack.cmake)
LIST(APPEND RUFUS_BIG_INSERTIONS_DEPENDENCIES ${FASTAHACK_PROJECT})

SET(RUFUS_BIG_INSERTIONS_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/external CACHE INTERNAL "" FORCE)
SET(RUFUS_BIG_INSERTIONS_EXTERNAL_PROJECT_DIR ${CMAKE_BINARY_DIR}/externals/rufus_big_insertions_external_project CACHE INTERNAL "")
SET(RUFUS_BIG_INSERTIONS_EXTERNAL_PROJECT rufus_big_insertions CACHE INTERNAL "")

ExternalProject_Add(${RUFUS_BIG_INSERTIONS_EXTERNAL_PROJECT}
	DEPENDS ${RUFUS_BIG_INSERTIONS_DEPENDENCIES}
	DOWNLOAD_COMMAND ""
	SOURCE_DIR ${RUFUS_BIG_INSERTIONS_SOURCE_DIR}
	BINARY_DIR ${RUFUS_BIG_INSERTIONS_EXTERNAL_PROJECT_DIR}/bin
	INSTALL_COMMAND ""
	UPDATE_COMMAND ""
	CMAKE_CACHE_ARGS
		-DCMAKE_C_COMPILER:STRING=${CMAKE_C_COMPILER}
			-DCMAKE_CXX_COMPILER:STRING=${CMAKE_CXX_COMPILER}
)
